<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workbench Demo - GRIP Framework</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/workbench.css">
</head>
<body>
    <header class="demo-header workbench-header">
        <a href="../index.html" class="back-link">&larr; Zurück zur Matrix</a>
        <h1>The Workbench</h1>
        <p id="header-subtitle">Hierarchische Daten + Kuratierung</p>
    </header>

    <main class="workbench-layout">
        <aside class="workbench-tree">
            <div class="sidebar-header">
                <h2 id="dataset-title">Struktur</h2>
                <p class="sidebar-info" id="dataset-description"></p>
            </div>

            <div class="schema-view" id="schema-view">
                <h3>Schema</h3>
                <div class="schema-fields" id="schema-fields">
                    <!-- Dynamisch gefüllt -->
                </div>
            </div>

            <div class="validation-summary">
                <h3>Validierung</h3>
                <div class="validation-stats">
                    <div class="stat error">
                        <span class="stat-value" id="stat-errors">0</span>
                        <span class="stat-label">Fehler</span>
                    </div>
                    <div class="stat warning">
                        <span class="stat-value" id="stat-warnings">0</span>
                        <span class="stat-label">Warnungen</span>
                    </div>
                    <div class="stat valid">
                        <span class="stat-value" id="stat-valid">0</span>
                        <span class="stat-label">Valide</span>
                    </div>
                </div>

                <div class="error-breakdown" id="error-breakdown">
                    <h4>Fehlertypen</h4>
                    <ul id="error-types-list">
                        <!-- Dynamisch gefüllt -->
                    </ul>
                </div>
            </div>
        </aside>

        <section class="workbench-main">
            <div class="workbench-toolbar">
                <div class="toolbar-group">
                    <button class="tool-btn active" data-view="table">Tabelle</button>
                    <button class="tool-btn" data-view="json">JSON</button>
                    <button class="tool-btn" data-view="errors">Fehler</button>
                </div>
                <div class="toolbar-group">
                    <button class="tool-btn icon-btn" id="undo-btn" title="Rückgängig" disabled>↶</button>
                    <button class="tool-btn icon-btn" id="redo-btn" title="Wiederholen" disabled>↷</button>
                </div>
                <div class="toolbar-group">
                    <select class="filter-select" id="status-filter">
                        <option value="all">Alle anzeigen</option>
                        <option value="error">Nur Fehler</option>
                        <option value="warning">Nur Warnungen</option>
                        <option value="valid">Nur valide</option>
                    </select>
                    <input type="search" placeholder="Suchen..." class="toolbar-search" id="search-input">
                </div>
                <div class="toolbar-group">
                    <button class="action-btn" id="validate-btn">Validieren</button>
                    <button class="action-btn primary" id="export-btn">Exportieren</button>
                </div>
            </div>

            <div class="workbench-content" id="workbench-content">
                <!-- Tabellen-Ansicht -->
                <div class="view-table active" id="view-table">
                    <table class="edit-table" id="edit-table">
                        <thead id="table-header">
                            <!-- Dynamisch gefüllt -->
                        </thead>
                        <tbody id="table-body">
                            <!-- Dynamisch gefüllt -->
                        </tbody>
                    </table>
                </div>

                <!-- JSON-Ansicht -->
                <div class="view-json hidden" id="view-json">
                    <pre class="json-display" id="json-display"></pre>
                </div>

                <!-- Fehler-Ansicht -->
                <div class="view-errors hidden" id="view-errors">
                    <div class="errors-list" id="errors-list">
                        <!-- Dynamisch gefüllt -->
                    </div>
                </div>
            </div>

            <div class="workbench-pagination">
                <span id="pagination-info">Zeige 0-0 von 0</span>
                <div class="pagination-btns" id="pagination-btns">
                    <!-- Dynamisch gefüllt -->
                </div>
            </div>
        </section>

        <aside class="workbench-inspector">
            <h2>Inspektor</h2>

            <div class="inspector-section" id="selection-info">
                <h3>Ausgewählte Zelle</h3>
                <p class="inspector-hint" id="inspector-hint">Klicken Sie auf eine Zelle zum Bearbeiten.</p>
                <div class="inspector-details hidden" id="inspector-details">
                    <div class="inspector-field">
                        <label>Objekt</label>
                        <span id="inspector-object">-</span>
                    </div>
                    <div class="inspector-field">
                        <label>Feld</label>
                        <span id="inspector-field">-</span>
                    </div>
                    <div class="inspector-field">
                        <label>Erwartet</label>
                        <span id="inspector-expected">-</span>
                    </div>
                    <div class="inspector-field">
                        <label>Aktueller Wert</label>
                        <code id="inspector-value">-</code>
                    </div>
                </div>
            </div>

            <div class="inspector-section error-section hidden" id="error-section">
                <h3>Validierungsfehler</h3>
                <div class="error-message" id="error-message">
                    <span class="error-icon">!</span>
                    <p id="error-text"></p>
                </div>
                <div class="quick-fix" id="quick-fix">
                    <h4>Quick Fix</h4>
                    <button class="fix-btn" id="fix-btn"></button>
                </div>
            </div>

            <div class="inspector-section">
                <h3>Batch-Operationen</h3>
                <div class="batch-ops" id="batch-ops">
                    <!-- Dynamisch gefüllt -->
                </div>
            </div>

            <div class="inspector-section">
                <h3>Export</h3>
                <div class="export-options">
                    <button class="export-btn" data-format="json">JSON</button>
                    <button class="export-btn" data-format="csv">CSV</button>
                    <button class="export-btn" data-format="report">Report</button>
                </div>
            </div>
        </aside>
    </main>

    <footer class="demo-footer workbench-footer">
        <div class="archetype-info">
            <h3>Warum Workbench?</h3>
            <p><strong>Topologie:</strong> Hierarchisch (strukturierte Sammlungsdaten)</p>
            <p><strong>Intention:</strong> Kuratierung (Daten bereinigen, validieren, exportieren)</p>
            <p><strong>Matrix-Position:</strong> Hierarchisch × Kuratierung = Workbench (primär)</p>
        </div>
        <a href="../index.html" class="back-to-matrix workbench-btn">Zurück zur Entscheidungsmatrix</a>
    </footer>

    <script src="../js/workbench.js"></script>
</body>
</html>
