<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigator Demo - GRIP Framework</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/navigator.css">
</head>
<body>
    <header class="demo-header navigator-header">
        <a href="../index.html" class="back-link">&larr; Zur√ºck zur Matrix</a>
        <h1>The Navigator</h1>
        <p id="header-subtitle">Vernetzte Daten + Rekonstruktion</p>
    </header>

    <main class="navigator-layout">
        <aside class="navigator-sidebar">
            <div class="sidebar-header">
                <h2 id="network-title">Netzwerk</h2>
                <p class="sidebar-info" id="network-description"></p>
            </div>

            <div class="network-stats" id="network-stats">
                <div class="stat">
                    <span class="stat-value" id="stat-nodes">-</span>
                    <span class="stat-label">Knoten</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="stat-edges">-</span>
                    <span class="stat-label">Kanten</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="stat-density">-</span>
                    <span class="stat-label">Dichte</span>
                </div>
            </div>

            <div class="filter-section">
                <h3>Filter</h3>
                <div class="filter-group">
                    <label>Jahr (bis)</label>
                    <input type="range" id="year-filter">
                    <span class="range-labels">
                        <span id="year-min">-</span>
                        <span id="year-value">-</span>
                    </span>
                </div>

                <div class="filter-group">
                    <label>Min. Verbindungen</label>
                    <input type="range" min="0" max="10" value="0" id="degree-filter">
                    <span class="range-labels">
                        <span>0</span>
                        <span id="degree-value">0</span>
                    </span>
                </div>

                <div class="filter-group">
                    <label>Cluster anzeigen</label>
                    <div class="cluster-toggles" id="cluster-toggles">
                        <!-- Dynamisch gef√ºllt -->
                    </div>
                </div>
            </div>

            <div class="layout-section">
                <h3>Layout</h3>
                <div class="layout-buttons">
                    <button class="layout-btn active" data-layout="force">Force</button>
                    <button class="layout-btn" data-layout="radial">Radial</button>
                    <button class="layout-btn" data-layout="cluster">Cluster</button>
                </div>
            </div>

            <div class="simulation-section">
                <h3>Simulation</h3>
                <div class="simulation-controls">
                    <button class="sim-btn" id="sim-play" title="Play/Pause">
                        <span id="sim-icon">‚è∏</span>
                    </button>
                    <button class="sim-btn" id="sim-reheat" title="Reheat">üî•</button>
                    <div class="sim-status">
                        <span class="sim-label">Alpha:</span>
                        <div class="alpha-bar">
                            <div class="alpha-fill" id="alpha-fill"></div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <section class="navigator-main">
            <div class="graph-container" id="graph">
                <svg class="graph-svg" id="graph-svg">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="20" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="var(--color-paper-dark)" />
                        </marker>
                        <marker id="arrowhead-highlighted" markerWidth="10" markerHeight="7" refX="20" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="var(--color-navigator)" />
                        </marker>
                    </defs>
                    <g class="graph-content" id="graph-content">
                        <g class="edges" id="edges-group"></g>
                        <g class="nodes" id="nodes-group"></g>
                    </g>
                </svg>

                <div class="graph-controls">
                    <button class="graph-btn" id="zoom-in" title="Zoom In">+</button>
                    <button class="graph-btn" id="zoom-out" title="Zoom Out">-</button>
                    <button class="graph-btn" id="fit-view" title="Fit View">‚ä°</button>
                    <button class="graph-btn" id="reset-view" title="Reset">‚Ü∫</button>
                </div>

                <div class="graph-info" id="graph-info">
                    <span id="visible-nodes">-</span> Knoten sichtbar
                </div>
            </div>
        </section>

        <aside class="navigator-details">
            <div class="detail-panel" id="detail-panel">
                <h2>Knotendetails</h2>
                <p class="detail-hint" id="detail-hint">Klicken Sie auf einen Knoten im Graph.</p>

                <div class="detail-content hidden" id="detail-content">
                    <h3 id="detail-title"></h3>
                    <p class="detail-subtitle" id="detail-author"></p>

                    <dl class="detail-meta">
                        <dt>Jahr</dt>
                        <dd id="detail-year">-</dd>
                        <dt>Zitiert von</dt>
                        <dd id="detail-cited-by">-</dd>
                        <dt>Zitiert</dt>
                        <dd id="detail-cites">-</dd>
                        <dt>Cluster</dt>
                        <dd><span class="cluster-tag" id="detail-cluster"></span></dd>
                    </dl>

                    <div class="detail-metrics">
                        <h4>Netzwerk-Metriken</h4>
                        <dl class="metrics-list">
                            <dt>Degree</dt>
                            <dd id="metric-degree">-</dd>
                            <dt>In-Degree</dt>
                            <dd id="metric-in-degree">-</dd>
                            <dt>Out-Degree</dt>
                            <dd id="metric-out-degree">-</dd>
                        </dl>
                    </div>

                    <div class="detail-abstract">
                        <h4>Abstract</h4>
                        <p id="detail-abstract-text"></p>
                    </div>

                    <div class="detail-connections">
                        <h4>Zitiert</h4>
                        <ul class="connection-list" id="outgoing-list"></ul>
                        <h4>Zitiert von</h4>
                        <ul class="connection-list" id="incoming-list"></ul>
                    </div>
                </div>
            </div>

            <div class="legend-panel">
                <h3>Legende</h3>
                <div class="legend-items" id="legend-items">
                    <!-- Dynamisch gef√ºllt -->
                </div>
                <p class="legend-note">Knotengr√∂√üe = Anzahl eingehender Zitationen</p>
            </div>

            <div class="path-panel hidden" id="path-panel">
                <h3>K√ºrzester Pfad</h3>
                <div class="path-controls">
                    <select id="path-from"></select>
                    <span class="path-arrow">‚Üí</span>
                    <select id="path-to"></select>
                    <button class="path-btn" id="find-path">Suchen</button>
                </div>
                <div class="path-result" id="path-result"></div>
            </div>
        </aside>
    </main>

    <footer class="demo-footer navigator-footer">
        <div class="archetype-info">
            <h3>Warum Navigator?</h3>
            <p><strong>Topologie:</strong> Vernetzt (Zitationsbeziehungen)</p>
            <p><strong>Intention:</strong> Rekonstruktion (Wissensstruktur verstehen)</p>
            <p><strong>Matrix-Position:</strong> Vernetzt √ó Rekonstruktion = Navigator (prim√§r)</p>
        </div>

        <div class="data-info-box">
            <h3>√úber diese Demo</h3>
            <div class="info-content">
                <div class="info-section">
                    <h4>Datensatz</h4>
                    <p>Fiktives <strong>Zitationsnetzwerk</strong> mit 10 Publikationen aus drei thematischen Clustern
                    (Methoden, Theorie, Anwendung). 19 gerichtete Kanten repr√§sentieren Zitationsbeziehungen
                    zwischen wissenschaftlichen Arbeiten von 2015 bis 2023.</p>
                </div>
                <div class="info-section">
                    <h4>Visualisierung</h4>
                    <ul>
                        <li><strong>Force-Directed Layout:</strong> Physikbasierte Knotenpositionierung</li>
                        <li><strong>Drei Layout-Modi:</strong> Force (Standard), Radial, Cluster</li>
                        <li><strong>Interaktive Simulation:</strong> Drag, Zoom, Pan, Alpha-Visualisierung</li>
                        <li><strong>Netzwerk-Metriken:</strong> Degree, In-/Out-Degree, Dichte</li>
                        <li><strong>Cluster-Filter:</strong> Fokussierung auf thematische Gruppen</li>
                    </ul>
                </div>
                <div class="info-section">
                    <h4>User Story</h4>
                    <p><em>‚ÄûAls Wissenschaftshistorikerin m√∂chte ich die Entwicklung eines Forschungsfeldes
                    rekonstruieren, indem ich Zitationsmuster zwischen Schl√ºsselpublikationen visualisiere
                    und thematische Cluster identifiziere, um intellektuelle Genealogien sichtbar zu machen."</em></p>
                </div>
            </div>
        </div>

        <a href="../index.html" class="back-to-matrix navigator-btn">Zur√ºck zur Entscheidungsmatrix</a>
    </footer>

    <script type="module" src="../js/navigator-entry.js"></script>
</body>
</html>
